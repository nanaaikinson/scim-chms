(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42fd13be"],{1276:function(t,e,i){"use strict";var s=i("d784"),a=i("44e7"),n=i("825a"),r=i("1d80"),o=i("4840"),l=i("8aa5"),c=i("50c4"),u=i("14c3"),d=i("9263"),f=i("d039"),p=[].push,v=Math.min,m=4294967295,h=!f((function(){return!RegExp(m,"y")}));s("split",2,(function(t,e,i){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var s=String(r(this)),n=void 0===i?m:i>>>0;if(0===n)return[];if(void 0===t)return[s];if(!a(t))return e.call(s,t,n);var o,l,c,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,h=new RegExp(t.source,f+"g");while(o=d.call(h,s)){if(l=h.lastIndex,l>v&&(u.push(s.slice(v,o.index)),o.length>1&&o.index<s.length&&p.apply(u,o.slice(1)),c=o[0].length,v=l,u.length>=n))break;h.lastIndex===o.index&&h.lastIndex++}return v===s.length?!c&&h.test("")||u.push(""):u.push(s.slice(v)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var a=r(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a,i):s.call(String(a),e,i)},function(t,a){var r=i(s,t,this,a,s!==e);if(r.done)return r.value;var d=n(t),f=String(this),p=o(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),C=new p(h?d:"^(?:"+d.source+")",b),k=void 0===a?m:a>>>0;if(0===k)return[];if(0===f.length)return null===u(C,f)?[f]:[];var w=0,x=0,y=[];while(x<f.length){C.lastIndex=h?x:0;var _,B=u(C,h?f:f.slice(x));if(null===B||(_=v(c(C.lastIndex+(h?0:x)),f.length))===w)x=l(f,x,g);else{if(y.push(f.slice(w,x)),y.length===k)return y;for(var $=1;$<=B.length-1;$++)if(y.push(B[$]),y.length===k)return y;x=w=_}}return y.push(f.slice(w)),y}]}),!h)},"2d15":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"card min-height-500"},[i("div",{staticClass:"card-body"},[i("p",{staticClass:"mb-3"},[t._v("NB: Fields marked * are required")]),i("div",{ref:"formMsg",staticClass:"form-msg"}),i("form",{on:{submit:function(e){return e.preventDefault(),t.updateBook(e)}}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"title"}},[t._v("Title *")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"description"}},[t._v("Description")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.description,expression:"description",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"description",id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"file"}},[t._v("File ")]),i("input",{ref:"file",staticClass:"form-control-file",attrs:{type:"file",name:"file",id:"file"}})])]),i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"cover"}},[t._v("Book Cover")]),i("input",{ref:"cover",staticClass:"form-control-file",attrs:{type:"file",name:"cover",id:"cover"}})])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"form-group mt-3"},[i("button",{ref:"submitBtn",staticClass:"btn btn-success px-5"},[t._v(" Save ")])])])])]),i("div",{staticClass:"col-md-4"},[i("div",{staticClass:" mb-3"},[i("i",{staticClass:"link-icon pi pi-file-pdf",staticStyle:{color:"red"}}),i("span",{staticClass:"d-block"},[t._v(t._s(t.fileName))])]),i("div",{},[i("img",{staticClass:"image-fluid",attrs:{src:t.image,width:"200",height:"200"}})])])])])])])])},a=[],n=(i("a4d3"),i("e01a"),i("4160"),i("ac1f"),i("1276"),i("159b"),i("ca16")),r=i("8c69"),o=i("3d20"),l=i.n(o),c={name:"BooksEdit",data:function(){return{title:"",description:"",book:null,image:"",fileName:""}},methods:{updateBook:function(t){var e=this,i=(t.target,this.$refs.submitBtn),s=this.$refs.formMsg;Object(n["a"])(i);var a=new FormData,o=this.$refs.cover,c=this.$refs.file;a.append("title",this.title),a.append("description",this.description),o.files.length&&a.append("cover",o.files[0]),c.files.length&&a.append("file",c.files[0]),r["a"].update(a,this.book.mask).then((function(t){Object(n["b"])(i);var s=t.data;l.a.fire("Success",s.message,"success"),e.$router.push({name:"Books"})}))["catch"]((function(t){var e=t.response,a=e.status,r=e.data,o="";400===a?(Object(n["b"])(i),r.errors.forEach((function(t){return o+='<span class="d-block">'.concat(t,"</span>")}))):o+=r.message,s.innerHTML='<div class="alert alert-danger">'.concat(o,"</div>")}))},setData:function(t){this.title=t.title,this.description=t.description,this.image=t.cover,this.fileName=t.file.split("//")[1].split("/").pop(),this.book=t}},beforeRouteEnter:function(t,e,i){var s=t.params.mask;s||i({name:"Home"}),r["a"].show(s).then((function(t){var e=t.data;i((function(t){return t.setData(e.data)}))}))["catch"]((function(t){return console.log(t)}))}},u=c,d=i("2877"),f=Object(d["a"])(u,s,a,!1,null,null,null);e["default"]=f.exports},"8c69":function(t,e,i){"use strict";var s=i("451b");e["a"]={all:function(){return s["b"].get("/staff/books")},store:function(t){return s["b"].post("/staff/books",t)},show:function(t){return s["b"].get("/staff/books/"+t)},update:function(t,e){return s["b"].post("/staff/books/"+e,t)},delete:function(t){return s["b"]["delete"]("/staff/books/"+t)},generateDownloadableLink:function(t){return s["b"].get("/staff/books/"+t+"/generate-link")},public:{all:function(){return s["b"].get("/staff/public/books")}}}}}]);
//# sourceMappingURL=chunk-42fd13be.0e720789.js.map