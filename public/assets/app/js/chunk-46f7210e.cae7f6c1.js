(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46f7210e"],{"07ac":function(t,e,n){var o=n("23e7"),r=n("6f53").values;o({target:"Object",stat:!0},{values:function(t){return r(t)}})},"0952":function(t,e,n){},1276:function(t,e,n){"use strict";var o=n("d784"),r=n("44e7"),i=n("825a"),s=n("1d80"),a=n("4840"),u=n("8aa5"),c=n("50c4"),l=n("14c3"),f=n("9263"),d=n("d039"),p=[].push,b=Math.min,m=4294967295,h=!d((function(){return!RegExp(m,"y")}));o("split",2,(function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=String(s(this)),i=void 0===n?m:n>>>0;if(0===i)return[];if(void 0===t)return[o];if(!r(t))return e.call(o,t,i);var a,u,c,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),b=0,h=new RegExp(t.source,d+"g");while(a=f.call(h,o)){if(u=h.lastIndex,u>b&&(l.push(o.slice(b,a.index)),a.length>1&&a.index<o.length&&p.apply(l,a.slice(1)),c=a[0].length,b=u,l.length>=i))break;h.lastIndex===a.index&&h.lastIndex++}return b===o.length?!c&&h.test("")||l.push(""):l.push(o.slice(b)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=s(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,r,n):o.call(String(r),e,n)},function(t,r){var s=n(o,t,this,r,o!==e);if(s.done)return s.value;var f=i(t),d=String(this),p=a(f,RegExp),v=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(h?"y":"g"),C=new p(h?f:"^(?:"+f.source+")",g),w=void 0===r?m:r>>>0;if(0===w)return[];if(0===d.length)return null===l(C,d)?[d]:[];var y=0,x=0,k=[];while(x<d.length){C.lastIndex=h?x:0;var _,S=l(C,h?d:d.slice(x));if(null===S||(_=b(c(C.lastIndex+(h?0:x)),d.length))===y)x=u(d,x,v);else{if(k.push(d.slice(y,x)),k.length===w)return k;for(var A=1;A<=S.length-1;A++)if(k.push(S[A]),k.length===w)return k;x=y=_}}return k.push(d.slice(y)),k}]}),!h)},"3ed8":function(t,e,n){"use strict";var o=n("451b");e["a"]={all:function(){return o["b"].get("/staff/people")},members:function(){return o["b"].get("/staff/people/members")},store:function(t){return o["b"].post("/staff/people",t)},show:function(t){return o["b"].get("/staff/people/"+t)},update:function(t,e){return o["b"].post("/staff/people/"+e,t)},delete:function(t){return o["b"]["delete"]("/staff/people/"+t)},person:{details:function(t){return o["b"].get("/staff/people/"+t+"/details")},attendance:function(t,e){return o["b"].get("/staff/people/"+t+"/attendance",e)},followUp:function(t,e){return o["b"].get("/staff/people/"+t+"/follow-ups",e)},contributions:function(t,e){return o["b"].get("/staff/people/"+t+"/contributions",e)}}}},"404c":function(t,e,n){"use strict";t.exports=n("6361")},"4e82":function(t,e,n){"use strict";var o=n("23e7"),r=n("1c0b"),i=n("7b0b"),s=n("d039"),a=n("a640"),u=[],c=u.sort,l=s((function(){u.sort(void 0)})),f=s((function(){u.sort(null)})),d=a("sort"),p=l||!f||!d;o({target:"Array",proto:!0,forced:p},{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),r(t))}})},"66a7":function(t,e,n){"use strict";var o=n("451b");e["a"]={all:function(){return o["b"].get("/staff/contributions")},covenant:function(t){return o["b"].post("/staff/contributions/covenant-partner",t)},covedelete:function(t){return o["b"]["delete"]("/staff/contributions/covenant-partner/"+t)},coveshow:function(t){return o["b"].get("/staff/contributions/covenant-partner/"+t)},coveupdate:function(t,e){return o["b"].put("/staff/contributions/covenant-partner/"+e,t)},busing:function(t){return o["b"].post("/staff/contributions/busing",t)},busingshow:function(t){return o["b"].get("/staff/contributions/busing/"+t)},busingupdate:function(t,e){return o["b"].put("/staff/contributions/busing/"+e,t)},busingdelete:function(t){return o["b"]["delete"]("/staff/contributions/busing/"+t)},titheAdd:function(t){return o["b"].post("/staff/contributions/tithes",t)},titheShow:function(t){return o["b"].get("/staff/contributions/tithes/"+t)},titheUpdate:function(t,e){return o["b"].put("/staff/contributions/tithes/"+e,t)},tithedelete:function(t){return o["b"]["delete"]("/staff/contributions/tithes/"+t)},groupAdd:function(t){return o["b"].post("/staff/contributions/groups",t)},groupShow:function(t){return o["b"].get("/staff/contributions/groups/"+t)},groupUpdate:function(t,e){return o["b"].put("/staff/contributions/groups/"+e,t)},groupdelete:function(t){return o["b"]["delete"]("/staff/contributions/groups/"+t)},welfareAdd:function(t){return o["b"].post("/staff/contributions/welfare",t)},welfareShow:function(t){return o["b"].get("/staff/contributions/welfare/"+t)},welfareUpdate:function(t,e){return o["b"].put("/staff/contributions/welfare/"+e,t)},welfaredelete:function(t){return o["b"]["delete"]("/staff/contributions/welfare/"+t)},pledgeAdd:function(t){return o["b"].post("/staff/contributions/pledge",t)},pledgeShow:function(t){return o["b"].get("/staff/contributions/pledge/"+t)},pledgeUpdate:function(t,e){return o["b"].put("/staff/contributions/pledge/"+e,t)},pledgedelete:function(t){return o["b"]["delete"]("/staff/contributions/pledge/"+t)},generalAdd:function(t){return o["b"].post("/staff/contributions/general",t)},generaldelete:function(t){return o["b"]["delete"]("/staff/contributions/general/"+t)},generalShow:function(t){return o["b"].get("/staff/contributions/general/"+t)},generalUpdate:function(t,e){return o["b"].put("/staff/contributions/general/"+e,t)}}},"6e97":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-10 offset-1"},[n("div",{staticClass:"d-flex mb-4"},[n("p",{staticClass:"mb-3"},[t._v("NB: Fields marked * are required")]),n("div",{staticClass:"ml-auto"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addRecord}},[t._v("Add More Records")])])]),n("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[n("div",{staticClass:"row"},[t._l(t.tithes,(function(e,o){return n("div",{key:o,staticClass:"col-md-6"},[n("div",{staticClass:"border pb-3 pt-4 px-5 shadow-sm mb-3",staticStyle:{"min-height":"330px"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",[t._v("Person *")]),n("Dropdown",{staticClass:"form-control",attrs:{options:t.people,optionLabel:"name",optionValue:"id",filter:!0,placeholder:"Select person",id:"dropdown-"+o},model:{value:e.person,callback:function(n){t.$set(e,"person",n)},expression:"tithe.person"}})],1)]),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"d-flex"},[n("label",{attrs:{for:""}},[t._v("Amount *")]),0!==o?n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Remove",expression:"'Remove'",modifiers:{top:!0}}],staticClass:"btn btn-danger btn-icon-28 ml-auto",staticStyle:{"margin-top":"-8px"},attrs:{type:"button"},on:{click:function(e){return t.removeRecord(o)}}},[n("i",{staticClass:"pi pi-trash"})]):t._e()]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.amount,expression:"tithe.amount",modifiers:{number:!0}}],key:o,staticClass:"form-control",attrs:{type:"text",name:"amount-"+o,id:"amount-"+o},domProps:{value:e.amount},on:{input:function(n){n.target.composing||t.$set(e,"amount",t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("Frequency *")]),n("Dropdown",{staticClass:"form-control",attrs:{options:t.frequencies,placeholder:"",id:"frequency-"+o},model:{value:e.frequency,callback:function(n){t.$set(e,"frequency",n)},expression:"tithe.frequency"}})],1)]),n("div",{staticClass:"col-md-6"},["monthly"===e.frequency.toLowerCase()?[n("div",{staticClass:"form-group"},[n("label",{staticClass:"d-block",attrs:{for:""}},[t._v("Select Month *")]),n("Calendar",{staticClass:"w-100",attrs:{id:"date-"+o,view:"month",dateFormat:"M-yy",yearNavigator:!0,yearRange:"2000:2100",placeholder:"Select Month"},model:{value:e.date,callback:function(n){t.$set(e,"date",n)},expression:"tithe.date"}})],1)]:[n("div",{staticClass:"form-group"},[n("label",{staticClass:"d-block",attrs:{for:""}},[t._v("Select Date *")]),n("flatPickr",{staticClass:"form-control bg-white",attrs:{placeholder:"Select Date",config:t.dateConfig},model:{value:e.date,callback:function(n){t.$set(e,"date",n)},expression:"tithe.date"}})],1)]],2),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"method"}},[t._v("Method of payment *")]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.method,expression:"tithe.method",modifiers:{number:!0}}],staticClass:"custom-select",attrs:{name:"method",id:"method"},on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(e){var n="_value"in e?e._value:e.value;return t._n(n)}));t.$set(e,"method",n.target.multiple?o:o[0])}}},t._l(t.methods,(function(e,o){return n("option",{key:o,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),n("div",{staticClass:"col-12"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("Comments")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"tithe.comment"}],staticClass:"form-control",attrs:{type:"text",name:"comment-"+o,id:"comment-"+o},domProps:{value:e.comment},on:{input:function(n){n.target.composing||t.$set(e,"comment",n.target.value)}}})])])])])])})),n("div",{staticClass:"col-12 pt-4"},[n("button",{ref:"submitBtn",staticClass:"btn btn-success px-5",attrs:{disabled:!t.tithes.length}},[t._v("Submit")])])],2)])])])])])])},r=[],i=(n("4de4"),n("4160"),n("d81d"),n("d3b7"),n("07ac"),n("159b"),n("5530")),s=n("ca16"),a=n("3ed8"),u=n("66a7"),c=n("3d20"),l=n.n(c),f=n("404c"),d=n.n(f),p=n("9631"),b=n.n(p),m=n("c38f"),h=n.n(m),v=(n("0952"),n("5a0c")),g=n.n(v),C={name:"TitheAdd",components:{Dropdown:d.a,Calendar:b.a,flatPickr:h.a},data:function(){return{people:[],frequencies:["Weekly","Monthly"],tithes:[{amount:0,date:null,frequency:"Monthly",person:"",comment:"",method:""}],dateConfig:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d",allowInput:!0},methods:[{name:"Cash",id:1},{name:"Cheque",id:2},{name:"Online",id:3},{name:"Mobile Money",id:4}]}},computed:{defaultAvatar:function(){return this.$store.getters.defaultAvatar}},methods:{getMembers:function(){var t=this;a["a"].members().then((function(e){var n=e.data.data;t.people=n}))["catch"]((function(t){return console.log(t)}))},addRecord:function(){this.tithes.push({amount:0,date:null,frequency:"Monthly",person:null,comment:"",method:1})},removeRecord:function(t){this.tithes=this.tithes.filter((function(e,n){return n!==t}))},submitForm:function(t){var e=this,n=this.$refs.submitBtn,o=[];if(this.tithes.forEach((function(t){t.person||o.push("error"),t.date||o.push("error")})),o.length)l.a.fire("","All fields marked * are required","info");else{Object(s["a"])(n);var r=this.tithes.map((function(t){var e=g()(t.date).format("YYYY-MM-DD");return Object(i["a"])(Object(i["a"])({},t),{},{frequency:t.frequency.toLowerCase(),date:e})}));u["a"].titheAdd({tithes:r}).then((function(t){var n=t.data;l.a.fire("Success",n.message,"success"),e.$router.push({name:"Contributions"})}))["catch"]((function(t){var e=t.response,n=e.status,o=e.data,r="";if(422===n){var i=Object.values(o.errors);i.map((function(t){r+='<span class="d-block">'.concat(t,"</span>")}))}else r+=o.message;l.a.fire("",r,"warning")}))["finally"]((function(){Object(s["b"])(n)}))}}},created:function(){this.getMembers()}},w=C,y=n("2877"),x=Object(y["a"])(w,o,r,!1,null,null,null);e["default"]=x.exports},"7db0":function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").find,i=n("44d2"),s=n("ae40"),a="find",u=!0,c=s(a);a in[]&&Array(1)[a]((function(){u=!1})),o({target:"Array",proto:!0,forced:u||!c},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},c20d:function(t,e,n){var o=n("da84"),r=n("58a8").trim,i=n("5899"),s=o.parseInt,a=/^[+-]?0[Xx]/,u=8!==s(i+"08")||22!==s(i+"0x16");t.exports=u?function(t,e){var n=r(String(t));return s(n,e>>>0||(a.test(n)?16:10))}:s},e25e:function(t,e,n){var o=n("23e7"),r=n("c20d");o({global:!0,forced:parseInt!=r},{parseInt:r})}}]);
//# sourceMappingURL=chunk-46f7210e.cae7f6c1.js.map