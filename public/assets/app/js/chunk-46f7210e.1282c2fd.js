(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46f7210e"],{"07ac":function(t,e,n){var a=n("23e7"),o=n("6f53").values;a({target:"Object",stat:!0},{values:function(t){return o(t)}})},"0952":function(t,e,n){},1276:function(t,e,n){"use strict";var a=n("d784"),o=n("44e7"),r=n("825a"),i=n("1d80"),s=n("4840"),u=n("8aa5"),c=n("50c4"),l=n("14c3"),f=n("9263"),d=n("d039"),p=[].push,m=Math.min,h=4294967295,v=!d((function(){return!RegExp(h,"y")}));a("split",2,(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=String(i(this)),r=void 0===n?h:n>>>0;if(0===r)return[];if(void 0===t)return[a];if(!o(t))return e.call(a,t,r);var s,u,c,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=new RegExp(t.source,d+"g");while(s=f.call(v,a)){if(u=v.lastIndex,u>m&&(l.push(a.slice(m,s.index)),s.length>1&&s.index<a.length&&p.apply(l,s.slice(1)),c=s[0].length,m=u,l.length>=r))break;v.lastIndex===s.index&&v.lastIndex++}return m===a.length?!c&&v.test("")||l.push(""):l.push(a.slice(m)),l.length>r?l.slice(0,r):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=i(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,o,n):a.call(String(o),e,n)},function(t,o){var i=n(a,t,this,o,a!==e);if(i.done)return i.value;var f=r(t),d=String(this),p=s(f,RegExp),b=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),C=new p(v?f:"^(?:"+f.source+")",g),w=void 0===o?h:o>>>0;if(0===w)return[];if(0===d.length)return null===l(C,d)?[d]:[];var y=0,x=0,k=[];while(x<d.length){C.lastIndex=v?x:0;var _,S=l(C,v?d:d.slice(x));if(null===S||(_=m(c(C.lastIndex+(v?0:x)),d.length))===y)x=u(d,x,b);else{if(k.push(d.slice(y,x)),k.length===w)return k;for(var A=1;A<=S.length-1;A++)if(k.push(S[A]),k.length===w)return k;x=y=_}}return k.push(d.slice(y)),k}]}),!v)},"3ed8":function(t,e,n){"use strict";var a=n("451b");e["a"]={all:function(){return a["a"].get("/staff/people")},members:function(){return a["a"].get("/staff/people/members")},store:function(t){return a["a"].post("/staff/people",t)},show:function(t){return a["a"].get("/staff/people/"+t)},update:function(t,e){return a["a"].post("/staff/people/"+e,t)},delete:function(t){return a["a"]["delete"]("/staff/people/"+t)},person:{details:function(t){return a["a"].get("/staff/people/"+t+"/details")},attendance:function(t,e){return a["a"].get("/staff/people/"+t+"/attendance",e)},followUp:function(t,e){return a["a"].get("/staff/people/"+t+"/follow-ups",e)},contributions:function(t,e){return a["a"].get("/staff/people/"+t+"/contributions",e)}}}},"404c":function(t,e,n){"use strict";t.exports=n("6361")},"4e82":function(t,e,n){"use strict";var a=n("23e7"),o=n("1c0b"),r=n("7b0b"),i=n("d039"),s=n("a640"),u=[],c=u.sort,l=i((function(){u.sort(void 0)})),f=i((function(){u.sort(null)})),d=s("sort"),p=l||!f||!d;a({target:"Array",proto:!0,forced:p},{sort:function(t){return void 0===t?c.call(r(this)):c.call(r(this),o(t))}})},"66a7":function(t,e,n){"use strict";var a=n("451b");e["a"]={all:function(){return a["a"].get("/staff/contributions")},covenant:function(t){return a["a"].post("/staff/contributions/covenant-partner",t)},covedelete:function(t){return a["a"]["delete"]("/staff/contributions/covenant-partner/"+t)},coveshow:function(t){return a["a"].get("/staff/contributions/covenant-partner/"+t)},coveupdate:function(t,e){return a["a"].put("/staff/contributions/covenant-partner/"+e,t)},busing:function(t){return a["a"].post("/staff/contributions/busing",t)},busingshow:function(t){return a["a"].get("/staff/contributions/busing/"+t)},busingupdate:function(t,e){return a["a"].put("/staff/contributions/busing/"+e,t)},busingdelete:function(t){return a["a"]["delete"]("/staff/contributions/busing/"+t)},titheAdd:function(t){return a["a"].post("/staff/contributions/tithes",t)},titheShow:function(t){return a["a"].get("/staff/contributions/tithes/"+t)},titheUpdate:function(t,e){return a["a"].put("/staff/contributions/tithes/"+e,t)},tithedelete:function(t){return a["a"]["delete"]("/staff/contributions/tithes/"+t)},groupAdd:function(t){return a["a"].post("/staff/contributions/groups",t)},groupShow:function(t){return a["a"].get("/staff/contributions/groups/"+t)},groupUpdate:function(t,e){return a["a"].put("/staff/contributions/groups/"+e,t)},groupdelete:function(t){return a["a"]["delete"]("/staff/contributions/groups/"+t)},welfareAdd:function(t){return a["a"].post("/staff/contributions/welfare",t)},welfareShow:function(t){return a["a"].get("/staff/contributions/welfare/"+t)},welfareUpdate:function(t,e){return a["a"].put("/staff/contributions/welfare/"+e,t)},welfaredelete:function(t){return a["a"]["delete"]("/staff/contributions/welfare/"+t)},pledgeAdd:function(t){return a["a"].post("/staff/contributions/pledge",t)},pledgeShow:function(t){return a["a"].get("/staff/contributions/pledge/"+t)},pledgeUpdate:function(t,e){return a["a"].put("/staff/contributions/pledge/"+e,t)},pledgedelete:function(t){return a["a"]["delete"]("/staff/contributions/pledge/"+t)},generalAdd:function(t){return a["a"].post("/staff/contributions/general",t)},generaldelete:function(t){return a["a"]["delete"]("/staff/contributions/general/"+t)},generalShow:function(t){return a["a"].get("/staff/contributions/general/"+t)},generalUpdate:function(t,e){return a["a"].put("/staff/contributions/general/"+e,t)}}},"6e97":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-10 offset-1"},[n("div",{staticClass:"d-flex mb-4"},[n("p",{staticClass:"mb-3"},[t._v("NB: Fields marked * are required")]),n("div",{staticClass:"ml-auto"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addRecord}},[t._v("Add More Records")])])]),n("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[n("div",{staticClass:"row"},[t._l(t.tithes,(function(e,a){return n("div",{key:a,staticClass:"col-md-6"},[n("div",{staticClass:"border pb-3 pt-4 px-5 shadow-sm mb-3",staticStyle:{"min-height":"330px"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",[t._v("Person *")]),n("Dropdown",{staticClass:"form-control",attrs:{options:t.people,optionLabel:"name",optionValue:"id",filter:!0,placeholder:"Select person",id:"dropdown-"+a},model:{value:e.person,callback:function(n){t.$set(e,"person",n)},expression:"tithe.person"}})],1)]),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"d-flex"},[n("label",{attrs:{for:""}},[t._v("Amount *")]),0!==a?n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Remove",expression:"'Remove'",modifiers:{top:!0}}],staticClass:"btn btn-danger btn-icon-28 ml-auto",staticStyle:{"margin-top":"-8px"},attrs:{type:"button"},on:{click:function(e){return t.removeRecord(a)}}},[n("i",{staticClass:"pi pi-trash"})]):t._e()]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.amount,expression:"tithe.amount",modifiers:{number:!0}}],key:a,staticClass:"form-control",attrs:{type:"text",name:"amount-"+a,id:"amount-"+a},domProps:{value:e.amount},on:{input:function(n){n.target.composing||t.$set(e,"amount",t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("Frequency *")]),n("Dropdown",{staticClass:"form-control",attrs:{options:t.frequencies,placeholder:"",id:"frequency-"+a},model:{value:e.frequency,callback:function(n){t.$set(e,"frequency",n)},expression:"tithe.frequency"}})],1)]),n("div",{staticClass:"col-md-6"},["monthly"===e.frequency.toLowerCase()?[n("div",{staticClass:"form-group"},[n("label",{staticClass:"d-block",attrs:{for:""}},[t._v("Select Month *")]),n("Calendar",{staticClass:"w-100",attrs:{id:"date-"+a,view:"month",dateFormat:"M-yy",yearNavigator:!0,yearRange:"2000:2100",placeholder:"Select Month"},model:{value:e.date,callback:function(n){t.$set(e,"date",n)},expression:"tithe.date"}})],1)]:[n("div",{staticClass:"form-group"},[n("label",{staticClass:"d-block",attrs:{for:""}},[t._v("Select Date *")]),n("flatPickr",{staticClass:"form-control bg-white",attrs:{placeholder:"Select Date",config:t.dateConfig},model:{value:e.date,callback:function(n){t.$set(e,"date",n)},expression:"tithe.date"}})],1)]],2),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"method"}},[t._v("Method of payment *")]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.method,expression:"tithe.method",modifiers:{number:!0}}],staticClass:"custom-select",attrs:{name:"method",id:"method"},on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(e){var n="_value"in e?e._value:e.value;return t._n(n)}));t.$set(e,"method",n.target.multiple?a:a[0])}}},t._l(t.methods,(function(e,a){return n("option",{key:a,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),n("div",{staticClass:"col-12"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("Comments")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"tithe.comment"}],staticClass:"form-control",attrs:{type:"text",name:"comment-"+a,id:"comment-"+a},domProps:{value:e.comment},on:{input:function(n){n.target.composing||t.$set(e,"comment",n.target.value)}}})])])])])])})),n("div",{staticClass:"col-12 pt-4"},[n("button",{ref:"submitBtn",staticClass:"btn btn-success px-5",attrs:{disabled:!t.tithes.length}},[t._v("Submit")])])],2)])])])])])])},o=[],r=(n("4de4"),n("4160"),n("d81d"),n("d3b7"),n("07ac"),n("159b"),n("5530")),i=n("ca16"),s=n("3ed8"),u=n("66a7"),c=n("3d20"),l=n.n(c),f=n("404c"),d=n.n(f),p=n("9631"),m=n.n(p),h=n("c38f"),v=n.n(h),b=(n("0952"),n("5a0c")),g=n.n(b),C={name:"TitheAdd",components:{Dropdown:d.a,Calendar:m.a,flatPickr:v.a},data:function(){return{people:[],frequencies:["Weekly","Monthly"],tithes:[{amount:0,date:null,frequency:"Monthly",person:"",comment:"",method:""}],dateConfig:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d",allowInput:!0},methods:[{name:"Cash",id:1},{name:"Cheque",id:2},{name:"Online",id:3},{name:"Mobile Money",id:4}]}},computed:{defaultAvatar:function(){return this.$store.getters.defaultAvatar}},methods:{getMembers:function(){var t=this;s["a"].members().then((function(e){var n=e.data.data;t.people=n}))["catch"]((function(t){return console.log(t)}))},addRecord:function(){this.tithes.push({amount:0,date:null,frequency:"Monthly",person:null,comment:"",method:1})},removeRecord:function(t){this.tithes=this.tithes.filter((function(e,n){return n!==t}))},submitForm:function(t){var e=this,n=this.$refs.submitBtn,a=[];if(this.tithes.forEach((function(t){t.person||a.push("error"),t.date||a.push("error")})),a.length)l.a.fire("","All fields marked * are required","info");else{Object(i["a"])(n);var o=this.tithes.map((function(t){var e=g()(t.date).format("YYYY-MM-DD");return Object(r["a"])(Object(r["a"])({},t),{},{frequency:t.frequency.toLowerCase(),date:e})}));u["a"].titheAdd({tithes:o}).then((function(t){var n=t.data;l.a.fire("Success",n.message,"success"),e.$router.push({name:"Contributions"})}))["catch"]((function(t){var e=t.response,n=e.status,a=e.data,o="";if(422===n){var r=Object.values(a.errors);r.map((function(t){o+='<span class="d-block">'.concat(t,"</span>")}))}else o+=a.message;l.a.fire("",o,"warning")}))["finally"]((function(){Object(i["b"])(n)}))}}},created:function(){this.getMembers()}},w=C,y=n("2877"),x=Object(y["a"])(w,a,o,!1,null,null,null);e["default"]=x.exports},"7db0":function(t,e,n){"use strict";var a=n("23e7"),o=n("b727").find,r=n("44d2"),i=n("ae40"),s="find",u=!0,c=i(s);s in[]&&Array(1)[s]((function(){u=!1})),a({target:"Array",proto:!0,forced:u||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},c20d:function(t,e,n){var a=n("da84"),o=n("58a8").trim,r=n("5899"),i=a.parseInt,s=/^[+-]?0[Xx]/,u=8!==i(r+"08")||22!==i(r+"0x16");t.exports=u?function(t,e){var n=o(String(t));return i(n,e>>>0||(s.test(n)?16:10))}:i},e25e:function(t,e,n){var a=n("23e7"),o=n("c20d");a({global:!0,forced:parseInt!=o},{parseInt:o})}}]);
//# sourceMappingURL=chunk-46f7210e.1282c2fd.js.map