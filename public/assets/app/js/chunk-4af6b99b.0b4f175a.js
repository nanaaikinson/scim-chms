(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4af6b99b"],{"8c69":function(t,e,s){"use strict";var i=s("451b");e["a"]={all:function(){return i["b"].get("/staff/books")},store:function(t){return i["b"].post("/staff/books",t)},show:function(t){return i["b"].get("/staff/books/"+t)},update:function(t,e){return i["b"].post("/staff/books/"+e,t)},delete:function(t){return i["b"]["delete"]("/staff/books/"+t)},generateDownloadableLink:function(t){return i["b"].get("/staff/books/"+t+"/generate-link")},public:{all:function(){return i["b"].get("/staff/public/books")}}}},bcfa:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"card min-height-500"},[s("div",{staticClass:"card-body"},[s("p",{staticClass:"mb-3"},[t._v("NB: Fields marked * are required")]),s("div",{ref:"formMsg",staticClass:"form-msg"}),s("form",{on:{submit:function(e){return e.preventDefault(),t.addBook(e)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v("Title *")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"description"}},[t._v("Description")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.description,expression:"description",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"description",id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"file"}},[t._v("File *")]),s("input",{ref:"file",staticClass:"form-control-file",attrs:{type:"file",name:"file",id:"file",required:""}})])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"cover"}},[t._v("Book Cover")]),s("input",{ref:"cover",staticClass:"form-control-file",attrs:{type:"file",name:"cover",id:"cover"}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group mt-3"},[s("button",{ref:"submitBtn",staticClass:"btn btn-success px-5"},[t._v(" Save ")])])])])])])])])},r=[],a=(s("a4d3"),s("e01a"),s("4160"),s("159b"),s("ca16")),o=s("8c69"),n=s("3d20"),c=s.n(n),l={name:"BooksAdd",data:function(){return{title:"",description:""}},methods:{addBook:function(t){var e=this,s=(t.target,this.$refs.submitBtn),i=this.$refs.formMsg;Object(a["a"])(s);var r=new FormData,n=this.$refs.cover,l=this.$refs.file;r.append("title",this.title),r.append("description",this.description),r.append("file",l.files[0]),n.files.length&&r.append("cover",n.files[0]),o["a"].store(r).then((function(t){Object(a["b"])(s);var i=t.data;c.a.fire("Success",i.message,"success"),e.$router.push({name:"Books"})}))["catch"]((function(t){var e=t.response,r=e.status,o=e.data,n="";400===r?(Object(a["b"])(s),o.errors.forEach((function(t){return n+='<span class="d-block">'.concat(t,"</span>")}))):n+=o.message,i.innerHTML='<div class="alert alert-danger">'.concat(n,"</div>")}))}}},d=l,f=s("2877"),u=Object(f["a"])(d,i,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4af6b99b.0b4f175a.js.map