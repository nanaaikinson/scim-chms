(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-462bd43f"],{"0952":function(t,e,a){},"6f53":function(t,e,a){var s=a("83ab"),o=a("df75"),r=a("fc6a"),n=a("d1e7").f,i=function(t){return function(e){var a,i=r(e),c=o(i),l=c.length,m=0,u=[];while(l>m)a=c[m++],s&&!n.call(i,a)||u.push(t?[a,i[a]]:i[a]);return u}};t.exports={entries:i(!0),values:i(!1)}},e8dc:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card min-height-500"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 offset-md-1"},[a("div",{staticClass:"d-flex"},[a("p",{staticClass:"mb-3"},[t._v("NB: Fields marked * are required")]),a("div",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addMoreRecords}},[t._v("Add More Records")])])]),a("div",{ref:"formMsg",staticClass:"form-msg"}),a("form",{on:{submit:function(e){return e.preventDefault(),t.addBusing(e)}}},[a("div",{staticClass:"row mt-3"},t._l(t.contributions,(function(e,s){return a("div",{key:s,staticClass:"col-md-6 mb-4"},[a("div",{staticClass:"row border mr-2 py-4 px-3"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"amount"}},[t._v("Amount *")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.amount,expression:"contribution.amount",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",name:"amount-"+s,min:"0",id:"amount-"+s,required:""},domProps:{value:e.amount},on:{input:function(a){a.target.composing||t.$set(e,"amount",a.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"d-flex"},[a("label",{attrs:{for:"date"}},[t._v("Date *")]),t.contributions.length>1&&0!==s?a("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Remove",expression:"'Remove'",modifiers:{top:!0}}],staticClass:"btn btn-danger btn-icon-28 ml-auto",staticStyle:{"margin-top":"-8px"},attrs:{type:"button"},on:{click:t.RemoveRecord}},[a("i",{staticClass:"pi pi-trash"})]):t._e()]),a("flat-pickr",{staticClass:"form-control bg-white",attrs:{placeholder:"Select Date",name:"date-"+s,id:"date-"+s},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"contribution.date"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"person"}},[t._v("Person *")]),a("Dropdown",{staticClass:"form-control",attrs:{options:t.members,filter:!0,optionLabel:"name",optionValue:"id",placeholder:"Select Person"},model:{value:e.person,callback:function(a){t.$set(e,"person",a)},expression:"contribution.person"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"method"}},[t._v("Method of payment *")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:e.method,expression:"contribution.method",modifiers:{number:!0}}],staticClass:"custom-select",attrs:{name:"method",id:"method"},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(e,"method",a.target.multiple?s:s[0])}}},t._l(t.methods,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("Comment")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"contribution.comment"}],staticClass:"form-control",attrs:{type:"text",name:"comment-"+s,id:"comment-"+s},domProps:{value:e.comment},on:{input:function(a){a.target.composing||t.$set(e,"comment",a.target.value)}}})])])])])})),0),a("div",{staticClass:"text-center"},[a("div",{staticClass:"form-group mt-5"},[a("button",{ref:"submitBtn",staticClass:"btn btn-success px-5"},[t._v("Save")])])])])])])])])])},o=[],r=(a("4160"),a("d81d"),a("07ac"),a("159b"),a("96cf"),a("1da1")),n=a("ca16"),i=a("66a7"),c=a("3d20"),l=a.n(c),m=a("404c"),u=a.n(m),d=a("c38f"),p=a.n(d),v=(a("0952"),a("aafa")),f={name:"Covenant",components:{Dropdown:u.a,flatPickr:p.a},mixins:[v["a"]],methods:{addBusing:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,o,r,c,m,u,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$refs.submitBtn,s=e.$refs.formMsg,t.prev=2,o=[],e.contributions.forEach((function(t){t.person||o.push("error"),t.date||o.push("error"),t.method||o.push("error")})),!o.length){t.next=8;break}return l.a.fire("","All fields marked * are required","info"),t.abrupt("return");case 8:return Object(n["a"])(a),r={contributions:e.contributions},t.next=12,i["a"].busing(r);case 12:c=t.sent,m=c.data,Object(n["b"])(a),l.a.fire("Success",m.message,"success"),e.$router.push({name:"Contributions"}),t.next=25;break;case 19:t.prev=19,t.t0=t["catch"](2),u=t.t0.response.data,d="",422===u.code?(Object(n["b"])(a),p=Object.values(u.errors),p.map((function(t){d+='<span class="d-block">'.concat(t,"</span>")}))):d+=u.message,s.innerHTML='<div class="alert alert-danger">'.concat(d,"</div>");case 25:case"end":return t.stop()}}),t,null,[[2,19]])})))()}}},b=f,C=a("2877"),h=Object(C["a"])(b,s,o,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-462bd43f.04f85102.js.map