{"version":3,"sources":["webpack:///./node_modules/primevue/dropdown.js","webpack:///./src/services/api/followup.js","webpack:///./src/services/api/user.js","webpack:///./src/router/views/follow-up/Add.vue?f8f0","webpack:///src/router/views/follow-up/Add.vue","webpack:///./src/router/views/follow-up/Add.vue?1173","webpack:///./src/router/views/follow-up/Add.vue"],"names":["module","exports","all","Axios","get","apiURL","store","formData","post","show","mask","update","put","axios","payload","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","on","$event","preventDefault","createFollowUp","attrs","scopedSlots","_u","key","fn","errors","_v","people","model","value","form","callback","$$v","$set","expression","_s","users","dateConfig","visitTypes","directives","name","rawName","domProps","Array","isArray","completed","_i","$$a","$$el","target","$$c","checked","$$i","concat","slice","_e","composing","staticRenderFns","components","MultiSelect","Dropdown","DatePicker","data","assigned_to","date","completion_date","type","comment","altInput","altFormat","dateFormat","allowInput","methods","$refs","validationObserver","validate","then","result","formMsg","innerHTML","beforeRouteEnter","next","vm","setData","component"],"mappings":"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","file":"js/chunk-5e3f193d.6cb4427c.js","sourcesContent":["'use strict';\nmodule.exports = require('./components/dropdown/Dropdown.vue');\n            ","import Axios from \"./axios\";\nimport {apiURL} from \"@services/api/axios\";\n\nexport default {\n  all() {\n    return Axios.get(apiURL + \"staff/follow-up\");\n  },\n  store(formData) {\n    return Axios.post(apiURL + \"staff/follow-up\", formData);\n  },\n  show(mask) {\n    return Axios.get(apiURL + \"staff/follow-up/\" + mask);\n  },\n  update(formData, mask) {\n    return Axios.put(apiURL + \"staff/follow-up/\" + mask, formData);\n  },\n  delete(mask) {\n    return Axios.delete(apiURL + \"staff/follow-up/\" + mask);\n  },\n};\n","import axios from \"./axios\";\nimport {apiURL} from \"@services/api/axios\";\n\nexport default {\n  all() {\n    return axios.get(apiURL + \"staff/users\");\n  },\n  store(payload) {\n    return axios.post(apiURL + \"staff/users\", payload);\n  },\n  show(mask) {\n    return axios.get(apiURL + \"staff/users/\" + mask);\n  },\n  update(payload, mask) {\n    return axios.put(apiURL + \"staff/users/\" + mask, payload);\n  },\n  delete(mask) {\n    return axios.delete(apiURL + \"staff/users/\" + mask);\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-8 offset-md-2\"},[_c('div',{ref:\"formMsg\",staticClass:\"formMsg\"}),_c('ValidationObserver',{ref:\"validationObserver\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createFollowUp($event)}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('ValidationProvider',{attrs:{\"name\":\"People field\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"people\"}},[_vm._v(\" People \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('MultiSelect',{staticClass:\"form-control\",attrs:{\"options\":_vm.people,\"optionLabel\":\"name\",\"optionValue\":\"id\",\"filter\":\"\",\"required\":\"\"},model:{value:(_vm.form.people),callback:function ($$v) {_vm.$set(_vm.form, \"people\", $$v)},expression:\"form.people\"}}),_c('span',{staticClass:\"text-danger d-block\"},[_vm._v(_vm._s(errors[0]))])],1)]}}])})],1),_c('div',{staticClass:\"col-md-6\"},[_c('ValidationProvider',{attrs:{\"name\":\"Assigned to\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"assigned_to\"}},[_vm._v(\" Assigned To \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('Dropdown',{staticClass:\"form-control\",attrs:{\"options\":_vm.users,\"optionLabel\":\"name\",\"optionValue\":\"id\",\"filter\":\"\",\"required\":\"\"},model:{value:(_vm.form.assigned_to),callback:function ($$v) {_vm.$set(_vm.form, \"assigned_to\", $$v)},expression:\"form.assigned_to\"}}),_c('span',{staticClass:\"text-danger d-block\"},[_vm._v(_vm._s(errors[0]))])],1)]}}])})],1),_c('div',{staticClass:\"col-md-6\"},[_c('ValidationProvider',{attrs:{\"name\":\"Follow-up date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"date\"}},[_vm._v(\" Follow-Up Date \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('DatePicker',{staticClass:\"form-control bg-white\",attrs:{\"id\":\"date\",\"placeholder\":\"Select date\",\"config\":_vm.dateConfig},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}}),_c('span',{staticClass:\"text-danger d-block\"},[_vm._v(_vm._s(errors[0]))])],1)]}}])})],1),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"d-block\",attrs:{\"for\":\"\"}},[_vm._v(\" Follow-up Type \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('Dropdown',{staticClass:\"form-control\",attrs:{\"options\":_vm.visitTypes,\"optionLabel\":\"name\",\"optionValue\":\"id\",\"required\":\"\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}})],1)]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.completed),expression:\"form.completed\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"done\"},domProps:{\"checked\":Array.isArray(_vm.form.completed)?_vm._i(_vm.form.completed,null)>-1:(_vm.form.completed)},on:{\"change\":function($event){var $$a=_vm.form.completed,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"completed\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"completed\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"completed\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"done\"}},[_vm._v(\"Done\")])]),(_vm.form.completed)?_c('div',{},[_c('keep-alive',[_c('ValidationProvider',{attrs:{\"name\":\"Completion date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\" Completion Date \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('DatePicker',{staticClass:\"form-control bg-white\",attrs:{\"id\":\"completion_date\",\"placeholder\":\"Select date\",\"config\":_vm.dateConfig},model:{value:(_vm.form.completion_date),callback:function ($$v) {_vm.$set(_vm.form, \"completion_date\", $$v)},expression:\"form.completion_date\"}}),_c('span',{staticClass:\"text-danger d-block\"},[_vm._v(_vm._s(errors[0]))])],1)]}}],null,false,3603159698)})],1)],1):_vm._e()])]),_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"Comment\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.comment),expression:\"form.comment\"}],staticClass:\"form-control\",attrs:{\"name\":\"comment\",\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"comment\", $event.target.value)}}})])]),_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"text-center\"},[_c('button',{ref:\"submitBtn\",staticClass:\"btn btn-success px-5\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Save\")])])])])])])],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"row\">\n          <div class=\"col-md-8 offset-md-2\">\n            <div class=\"formMsg\" ref=\"formMsg\"></div>\n\n            <ValidationObserver ref=\"validationObserver\">\n              <form @submit.prevent=\"createFollowUp\">\n                <div class=\"row\">\n                  <div class=\"col-md-6\">\n                    <ValidationProvider name=\"People field\" rules=\"required\" v-slot=\"{ errors }\">\n                      <div class=\"form-group\">\n                        <label for=\"people\" class=\"d-block\">\n                          People\n                          <span class=\"text-danger\">*</span>\n                        </label>\n                        <MultiSelect\n                          v-model=\"form.people\"\n                          :options=\"people\"\n                          optionLabel=\"name\"\n                          optionValue=\"id\"\n                          filter\n                          class=\"form-control\"\n                          required\n                        />\n                        <span class=\"text-danger d-block\">{{ errors[0] }}</span>\n                      </div>\n                    </ValidationProvider>\n                  </div>\n\n                  <div class=\"col-md-6\">\n                    <ValidationProvider name=\"Assigned to\" rules=\"required\" v-slot=\"{ errors }\">\n                      <div class=\"form-group\">\n                        <label for=\"assigned_to\" class=\"d-block\">\n                          Assigned To\n                          <span class=\"text-danger\">*</span>\n                        </label>\n                        <Dropdown\n                          v-model=\"form.assigned_to\"\n                          :options=\"users\"\n                          optionLabel=\"name\"\n                          optionValue=\"id\"\n                          class=\"form-control\"\n                          filter\n                          required\n                        />\n                        <span class=\"text-danger d-block\">{{ errors[0] }}</span>\n                      </div>\n                    </ValidationProvider>\n                  </div>\n\n                  <div class=\"col-md-6\">\n                    <ValidationProvider name=\"Follow-up date\" rules=\"required\" v-slot=\"{ errors }\">\n                      <div class=\"form-group\">\n                        <label for=\"date\" class=\"d-block\">\n                          Follow-Up Date\n                          <span class=\"text-danger\">*</span>\n                        </label>\n                        <DatePicker\n                          id=\"date\"\n                          v-model=\"form.date\"\n                          class=\"form-control bg-white\"\n                          placeholder=\"Select date\"\n                          :config=\"dateConfig\"\n                        />\n                        <span class=\"text-danger d-block\">{{ errors[0] }}</span>\n                      </div>\n                    </ValidationProvider>\n                  </div>\n\n                  <div class=\"col-md-6\">\n                    <div class=\"form-group\">\n                      <label for class=\"d-block\">\n                        Follow-up Type\n                        <span class=\"text-danger\">*</span>\n                      </label>\n                      <Dropdown\n                        v-model=\"form.type\"\n                        :options=\"visitTypes\"\n                        optionLabel=\"name\"\n                        optionValue=\"id\"\n                        class=\"form-control\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"col-md-6\">\n                    <div class=\"form-group\">\n                      <div class=\"custom-control custom-checkbox\">\n                        <input\n                          type=\"checkbox\"\n                          class=\"custom-control-input\"\n                          id=\"done\"\n                          v-model=\"form.completed\"\n                        />\n                        <label class=\"custom-control-label\" for=\"done\">Done</label>\n                      </div>\n\n                      <div class v-if=\"form.completed\">\n                        <keep-alive>\n                          <ValidationProvider\n                            name=\"Completion date\"\n                            rules=\"required\"\n                            v-slot=\"{ errors }\"\n                          >\n                            <div class=\"form-group\">\n                              <label for>\n                                Completion Date\n                                <span class=\"text-danger\">*</span>\n                              </label>\n                              <DatePicker\n                                id=\"completion_date\"\n                                v-model=\"form.completion_date\"\n                                class=\"form-control bg-white\"\n                                placeholder=\"Select date\"\n                                :config=\"dateConfig\"\n                              />\n                              <span class=\"text-danger d-block\">{{ errors[0] }}</span>\n                            </div>\n                          </ValidationProvider>\n                        </keep-alive>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"col-md-12\">\n                    <div class=\"form-group\">\n                      <label for=\"comment\">Comment</label>\n                      <textarea\n                        name=\"comment\"\n                        id=\"comment\"\n                        cols=\"30\"\n                        rows=\"5\"\n                        class=\"form-control\"\n                        v-model=\"form.comment\"\n                      ></textarea>\n                    </div>\n                  </div>\n\n                  <div class=\"col-md-12\">\n                    <div class=\"text-center\">\n                      <button class=\"btn btn-success px-5\" type=\"submit\" ref=\"submitBtn\">Save</button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </ValidationObserver>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Swal from \"sweetalert2\";\nimport { addBtnLoading, removeBtnloading } from \"@services/helpers\";\nimport MultiSelect from \"primevue/multiselect\";\nimport Dropdown from \"primevue/dropdown\";\nimport FollowUp from \"@services/api/followup\";\nimport People from \"@services/api/people\";\nimport Users from \"@services/api/user\";\nimport DatePicker from \"vue-flatpickr-component\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nexport default {\n  name: \"AddFollowUp\",\n  components: {\n    MultiSelect,\n    Dropdown,\n    DatePicker,\n  },\n  data() {\n    return {\n      people: [],\n      users: [],\n      form: {\n        people: [],\n        assigned_to: null,\n        date: null,\n        completion_date: null,\n        type: 1,\n        completed: false,\n        comment: \"\",\n      },\n      visitTypes: [\n        {\n          id: 1,\n          name: \"Visit\",\n        },\n        {\n          id: 2,\n          name: \"Phone\",\n        },\n        {\n          id: 3,\n          name: \"Message\",\n        },\n      ],\n      dateConfig: {\n        altInput: true,\n        altFormat: \"F j, Y\",\n        dateFormat: \"Y-m-d\",\n        allowInput: true,\n      },\n    };\n  },\n  methods: {\n    async setData() {\n      const peopleResponse = await People.members();\n      const usersReponse = await Users.all();\n      const peopleRes = await peopleResponse.data;\n      const usersRes = await usersReponse.data;\n\n      this.people = peopleRes.data.map((person) => ({\n        id: person.id,\n        name: person.name,\n      }));\n\n      this.users = usersRes.data.map((user) => ({\n        id: user.id,\n        name: user.name,\n      }));\n    },\n\n    createFollowUp(e) {\n      this.$refs.validationObserver.validate().then((result) => {\n        if (result) {\n          const btn = this.$refs.submitBtn;\n          const formMsg = this.$refs.formMsg;\n\n          formMsg.innerHTML = \"\";\n          addBtnLoading(btn);\n\n          const formData = {\n            ...this.form,\n            completed: this.form.completed ? 1 : 0,\n          };\n\n          FollowUp.store(formData)\n            .then(({ data: res }) => {\n              Swal.fire(\"Success\", res.message, \"success\");\n              this.$router.push({ name: \"FollowUp\" });\n            })\n            .catch((err) => {\n              removeBtnLoading(btn);\n              const { status, data } = err.response;\n              let errorBag = \"\";\n\n              if (status === 422) {\n                Object.values(data.errors).map((error) => {\n                  errorBag += `<span class=\"d-block\">${error}</span>`;\n                });\n              } else {\n                errorBag += `<span class=\"d-block\">${data.message}</span>`;\n              }\n\n              formMsg.innerHTML = `<div class=\"alert alert-danger\">${errorBag}</div>`;\n            });\n        }\n      });\n    },\n  },\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      vm.setData();\n      next();\n    });\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=b13aebd0&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}