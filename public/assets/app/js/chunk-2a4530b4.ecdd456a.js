(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a4530b4"],{"15c3":function(t,e,n){"use strict";var a=n("1b6c"),o=n.n(a);o.a},"1b6c":function(t,e,n){},"2dfb":function(t,e,n){t.exports=n.p+"img/book.eb3b02d0.svg"},3049:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",t._g({class:["p-inputtext p-component",{"p-filled":t.filled}],domProps:{value:t.value}},t.listeners))},o=[],i=(n("0d03"),n("d3b7"),n("25f0"),n("5530")),s={props:{value:null},computed:{listeners:function(){var t=this;return Object(i["a"])(Object(i["a"])({},this.$listeners),{},{input:function(e){return t.$emit("input",e.target.value)}})},filled:function(){return null!=this.value&&this.value.toString().length>0}}},r=s,l=n("2877"),c=Object(l["a"])(r,a,o,!1,null,null,null);e["default"]=c.exports},"857a":function(t,e,n){var a=n("1d80"),o=/"/g;t.exports=function(t,e,n,i){var s=String(a(t)),r="<"+e;return""!==n&&(r+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),r+">"+s+"</"+e+">"}},"8c69":function(t,e,n){"use strict";var a=n("451b");e["a"]={all:function(){return a["b"].get("/staff/books")},store:function(t){return a["b"].post("/staff/books",t)},show:function(t){return a["b"].get("/staff/books/"+t)},update:function(t,e){return a["b"].post("/staff/books/"+e,t)},delete:function(t){return a["b"]["delete"]("/staff/books/"+t)},generateDownloadableLink:function(t){return a["b"].get("/staff/books/"+t+"/generate-link")},public:{all:function(){return a["b"].get("/staff/public/books")}}}},9911:function(t,e,n){"use strict";var a=n("23e7"),o=n("857a"),i=n("af03");a({target:"String",proto:!0,forced:i("link")},{link:function(t){return o(this,"a","href",t)}})},"9f28":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"mb-5"},[n("router-link",{staticClass:"btn btn-primary px-5",attrs:{to:{name:"BooksAdd"}}},[t._v("Add Book")])],1),n("div",[n("DataTable",{attrs:{value:t.books,paginator:!0,rows:10,loading:t.loading,filters:t.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries"},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"table-header d-flex justify-content-end"},[n("span",{staticClass:"p-input-icon-left"},[n("i",{staticClass:"pi pi-search"}),n("InputText",{attrs:{placeholder:"Search For"},model:{value:t.filters["global"],callback:function(e){t.$set(t.filters,"global",e)},expression:"filters['global']"}})],1)])]},proxy:!0},{key:"empty",fn:function(){return[n("div",{staticClass:"text-center"},[t._v(" No data found. ")])]},proxy:!0}])},[n("Column",{attrs:{field:"cover",header:"Cover"},scopedSlots:t._u([{key:"body",fn:function(e){return[n("div",{staticClass:"book-image"},[n("img",{attrs:{src:e.data.cover?e.data.cover:t.book}})])]}}])}),n("Column",{attrs:{field:"title",header:"Title",sortable:""}}),n("Column",{attrs:{field:"description",header:"Description",sortable:""}}),n("Column",{attrs:{field:"created_at",header:"Date Added",sortable:""}}),n("Column",{attrs:{field:"actions",header:"Actions"},scopedSlots:t._u([{key:"body",fn:function(e){return[n("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Edit",expression:"'Edit'",modifiers:{top:!0}}],staticClass:"btn btn-primary btn-icon mr-2",attrs:{tag:"button",to:{name:"BooksEdit",params:{mask:e.data.mask}}}},[n("i",{staticClass:"pi pi-pencil"})]),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Generate downloadable link",expression:"'Generate downloadable link'",modifiers:{top:!0}}],staticClass:"btn btn-warning btn-icon mr-2",on:{click:function(n){return t.generateLink(e.data.mask,n)}}},[n("i",{staticClass:"pi pi-cloud-download no-pointer-events"})]),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Delete",expression:"'Delete'",modifiers:{top:!0}}],staticClass:"btn btn-danger btn-icon mr-2",on:{click:function(n){return t.deleteBook(e.data.mask,n)}}},[n("i",{staticClass:"pi pi-trash no-pointer-events"})])]}}])})],1)],1)])])])},o=[],i=(n("99af"),n("9911"),n("23a5")),s=n.n(i),r=n("c524"),l=n.n(r),c=n("8c69"),u=n("ca16"),d=n("3d20"),f=n.n(d),p=n("a84a"),b=n.n(p),v={name:"Books",components:{DataTable:s.a,Column:l.a,InputText:b.a},data:function(){return{filters:{},books:[],loading:!0}},computed:{book:function(){return n("2dfb")}},methods:{getBooks:function(){var t=this;c["a"].all().then((function(e){var n=e.data;t.books=n.data,t.loading=!1}))["catch"]((function(t){return console.log(t)}))},generateLink:function(t,e){var n=e.target;Object(u["a"])(n),c["a"].generateDownloadableLink(t).then((function(t){var e=t.data;Object(u["b"])(n),f.a.fire({icon:"success",title:e.message,html:'<div class="container">\n              <div>\n                <p class="mr-auto mb-4"><span class="font-weight-bold">Code: </span>'.concat(e.data.code,'</p>\n                <p class="mr-auto"><span class="font-weight-bold">Link: </span>').concat(e.data.link,"</p>\n              </div>\n            </div>"),allowOutsideClick:!1})}))["catch"]((function(t){return console.log(t)}))},deleteBook:function(t,e){var n=this,a=e.target;f.a.fire({text:"Do you want to delete this book?",icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes Delete It",reverseButtons:!0}).then((function(e){e.value&&(Object(u["a"])(a),c["a"]["delete"](t).then((function(t){Object(u["b"])(a);var e=t.data;f.a.fire({icon:"success",title:e.message}),n.getBooks()}))["catch"]((function(t){return console.log(t)})))}))}},created:function(){this.getBooks()}},g=v,k=(n("15c3"),n("2877")),m=Object(k["a"])(g,a,o,!1,null,"9a8af41e",null);e["default"]=m.exports},a84a:function(t,e,n){"use strict";t.exports=n("3049")},af03:function(t,e,n){var a=n("d039");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}}}]);
//# sourceMappingURL=chunk-2a4530b4.ecdd456a.js.map