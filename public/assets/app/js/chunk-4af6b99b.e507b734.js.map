{"version":3,"sources":["webpack:///./src/services/api/book.js","webpack:///./src/router/views/books/Add.vue?8896","webpack:///src/router/views/books/Add.vue","webpack:///./src/router/views/books/Add.vue?a0d2","webpack:///./src/router/views/books/Add.vue"],"names":["all","Axios","get","store","payload","post","show","mask","update","generateDownloadableLink","public","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","on","$event","preventDefault","addBook","attrs","directives","name","rawName","value","expression","modifiers","domProps","target","composing","title","trim","$forceUpdate","description","staticRenderFns","data","methods","formData","append","file","files","cover","length","component"],"mappings":"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","file":"js/chunk-4af6b99b.e507b734.js","sourcesContent":["import Axios from \"./axios\";\n\nexport default {\n  all() {\n    return Axios.get(\"/staff/books\");\n  },\n  store(payload) {\n    return Axios.post(\"/staff/books\", payload);\n  },\n  show(mask) {\n    return Axios.get(\"/staff/books/\" + mask);\n  },\n  update(payload, mask) {\n    return Axios.post(\"/staff/books/\" + mask, payload);\n  },\n  delete(mask) {\n    return Axios.delete(\"/staff/books/\" + mask);\n  },\n  generateDownloadableLink(mask) {\n    return Axios.get(\"/staff/books/\" + mask + \"/generate-link\");\n  },\n  public: {\n    all() {\n      return Axios.get(\"/staff/public/books\");\n    },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card min-height-500\"},[_c('div',{staticClass:\"card-body\"},[_c('p',{staticClass:\"mb-3\"},[_vm._v(\"NB: Fields marked * are required\")]),_c('div',{ref:\"formMsg\",staticClass:\"form-msg\"}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addBook($event)}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"Title *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.title),expression:\"title\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"title\",\"id\":\"title\",\"required\":\"\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"description\"}},[_vm._v(\"Description\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.description),expression:\"description\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"description\",\"id\":\"description\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"file\"}},[_vm._v(\"File *\")]),_c('input',{ref:\"file\",staticClass:\"form-control-file\",attrs:{\"type\":\"file\",\"name\":\"file\",\"id\":\"file\",\"required\":\"\"}})])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"cover\"}},[_vm._v(\"Book Cover\")]),_c('input',{ref:\"cover\",staticClass:\"form-control-file\",attrs:{\"type\":\"file\",\"name\":\"cover\",\"id\":\"cover\"}})])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"form-group mt-3\"},[_c('button',{ref:\"submitBtn\",staticClass:\"btn btn-success px-5\"},[_vm._v(\" Save \")])])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"card min-height-500\">\n      <div class=\"card-body\">\n        <p class=\"mb-3\">NB: Fields marked * are required</p>\n\n        <div class=\"form-msg\" ref=\"formMsg\"></div>\n\n        <form @submit.prevent=\"addBook\">\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <div class=\"form-group\">\n                <label for=\"title\">Title *</label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  id=\"title\"\n                  class=\"form-control\"\n                  required\n                  v-model.trim=\"title\"\n                />\n              </div>\n            </div>\n\n            <div class=\"col-md-4\">\n              <div class=\"form-group\">\n                <label for=\"description\">Description</label>\n                <input\n                  type=\"text\"\n                  name=\"description\"\n                  id=\"description\"\n                  class=\"form-control\"\n                  v-model.trim=\"description\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <div class=\"form-group\">\n                <label for=\"file\">File *</label>\n                <input\n                  type=\"file\"\n                  name=\"file\"\n                  id=\"file\"\n                  class=\"form-control-file\"\n                  ref=\"file\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div class=\"col-md-4\">\n              <div class=\"form-group\">\n                <label for=\"cover\">Book Cover</label>\n                <input\n                  type=\"file\"\n                  name=\"cover\"\n                  id=\"cover\"\n                  class=\"form-control-file\"\n                  ref=\"cover\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <div class=\"form-group mt-3\">\n                <button class=\"btn btn-success px-5\" ref=\"submitBtn\">\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { addBtnLoading, removeBtnLoading } from \"@services/helpers\";\nimport Book from \"@services/api/book\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  name: \"BooksAdd\",\n  data() {\n    return {\n      title: \"\",\n      description: \"\",\n    };\n  },\n  methods: {\n    addBook(e) {\n      const form = e.target;\n      const btn = this.$refs.submitBtn;\n      const formMsg = this.$refs.formMsg;\n\n      addBtnLoading(btn);\n      const formData = new FormData();\n      const cover = this.$refs.cover;\n      const file = this.$refs.file;\n\n      formData.append(\"title\", this.title);\n      formData.append(\"description\", this.description);\n      formData.append(\"file\", file.files[0]);\n\n      if (cover.files.length) {\n        formData.append(\"cover\", cover.files[0]);\n      }\n\n      Book.store(formData)\n        .then((response) => {\n          removeBtnLoading(btn);\n          const res = response.data;\n          Swal.fire(\"Success\", res.message, \"success\");\n\n          this.$router.push({ name: \"Books\" });\n        })\n        .catch((err) => {\n          const { status, data } = err.response;\n          let errorBag = \"\";\n\n          if (status === 400) {\n            removeBtnLoading(btn);\n            data.errors.forEach(\n              (error) => (errorBag += `<span class=\"d-block\">${error}</span>`)\n            );\n          } else {\n            errorBag += data.message;\n          }\n\n          formMsg.innerHTML = `<div class=\"alert alert-danger\">${errorBag}</div>`;\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=455709ef&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}